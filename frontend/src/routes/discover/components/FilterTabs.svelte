<script lang="ts">
  const { 
    currentFilter, 
    onChange 
  } = $props<{
    currentFilter: "activity" | "random" | "recommend";
    onChange: (filter: "activity" | "random" | "recommend") => void;
  }>();

  const filters = [
    {
      key: "recommend" as const,
      label: "ãŠã™ã™ã‚",
      description: "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ãƒ©ãƒ³ãƒ€ãƒ ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çµ„ã¿åˆã‚ã›",
      icon: "â­"
    },
    {
      key: "activity" as const,
      label: "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–",
      description: "æœ€è¿‘ç™»éŒ²ã‚„æŠ•ç¨¿ã‚’ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼",
      icon: "ğŸ”¥"
    },
    {
      key: "random" as const,
      label: "ãƒ©ãƒ³ãƒ€ãƒ ",
      description: "å®Œå…¨ã«ãƒ©ãƒ³ãƒ€ãƒ ãªãƒ¦ãƒ¼ã‚¶ãƒ¼",
      icon: "ğŸ²"
    }
  ];
</script>

<div class="mb-8">
  <div class="theme-border border-b">
    <nav class="flex gap-8" aria-label="ç™ºè¦‹ã‚¿ã‚¤ãƒ—ã‚’é¸æŠ">
      {#each filters as filter (filter.key)}
        <button
          onclick={() => onChange(filter.key)}
          class="relative border-b-2 pb-3 pt-2 px-2 rounded-t-md text-sm font-medium transition-all {
            currentFilter === filter.key
              ? 'theme-tab-active'
              : 'border-transparent theme-tab-inactive hover:bg-gray-100 dark:hover:bg-gray-800'
          }"
          aria-pressed={currentFilter === filter.key}
        >
          <div class="flex items-center gap-2">
            <span class="text-base">{filter.icon}</span>
            <span>{filter.label}</span>
          </div>
          
          <!-- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ -->
          {#if currentFilter === filter.key}
            <div class="absolute inset-x-0 -bottom-[2px] h-0.5 bg-orange-500"></div>
          {/if}
        </button>
      {/each}
    </nav>
  </div>
  
  <!-- èª¬æ˜æ–‡ -->
  <div class="mt-4">
    {#each filters as filter (filter.key)}
      {#if currentFilter === filter.key}
        <p class="theme-text-muted text-sm">
          {filter.description}
        </p>
      {/if}
    {/each}
  </div>
</div>